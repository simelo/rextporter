CTX LEX
EOL 0
KEY DATASET
BLK 4
KEY FOR SERVICE
VAR skycoin
EOL 4
KEY FOR STACK
VAR skyfiber
EOL 4
KEY DEFINE AUTH
VAR rest_csrf
KEY AS
STR "skyauth"
BLK 8
KEY SET
STR "url"
KEY TO
STR "/api/v1/csrf"
EOL 8
KEY SET
STR "method"
KEY TO
STR "GET"
EOL 8
KEY SET
STR "header"
KEY TO
STR "X-CSRF-Token"
EOL 8
KEY SET
STR "json_path"
KEY TO
STR "csrf_token"
EOB 8
EOL 4
KEY GET
VAR forward_metrics
KEY FROM
STR '/api/v2/metrics'
BLK 8
KEY SET
STR "prefix"
KEY TO
STR "skycoinexample"
EOB 8
EOL 4
KEY GET
VAR rest_api
KEY FROM
STR '/api/v1/health'
BLK 8
KEY SET
STR "auth"
KEY TO
STR "skyauth"
EOL 8
KEY EXTRACT USING
STR "jsonpath"
BLK 12
KEY METRIC
BLK 16
KEY NAME
STR "skycoin_auth_csrf_enabled"
EOL 16
KEY TYPE
KEY GAUGE
EOL 16
KEY SET
STR "path"
KEY TO
STR "csrf_enabled"
EOB 16
EOL 12
KEY METRIC
BLK 16
KEY NAME
STR "skycoin_blockchain_burn_factor"
EOL 16
KEY TYPE
KEY COUNTER
EOL 16
KEY SET
STR "path"
KEY TO
STR "user_verify_transaction.burn_factor"
EOB 16
EOL 12
KEY METRIC
BLK 16
KEY NAME
STR "skycoin_blockchain_block_head"
EOL 16
KEY TYPE
KEY COUNTER
EOL 16
KEY SET
STR "path"
KEY TO
STR "blockchain.head.seq"
EOB 16
EOB 12
EOB 8
EOL 4
KEY GET
VAR rest_api
KEY FROM
STR '/api/v1/network/connections'
BLK 8
KEY SET
STR "auth"
KEY TO
STR "skyauth"
EOL 8
KEY EXTRACT USING
STR "jsonpath"
BLK 12
KEY METRIC
BLK 16
KEY NAME
STR "skycoin_pex_connections"
EOL 16
KEY TYPE
KEY COUNTER
EOL 16
KEY LABELS
STR "state"
PNC ,
STR "outgoing"
PNC ,
STR "listen_port"
PNC ,
STR "user_agent"
PNC ,
STR "is_trusted"
PNC ,
STR "burn_factor"
PNC ,
STR "max_txn_size"
PNC ,
STR "max_decimals"
PNC ,
STR "height"
EOL 16
KEY SET
STR "path"
KEY TO
STR "connections[*]"
EOL 16
KEY SET
STR "label_path:is_trusted"
KEY TO
STR "is_trusted_peer"
EOL 16
KEY SET
STR "label_path:burn_factor"
KEY TO
STR "unconfirmed_verify_transaction.burn_factor"
EOL 16
KEY SET
STR "label_path:max_txn_size"
KEY TO
STR "unconfirmed_verify_transaction.max_transaction_size"
EOL 16
KEY SET
STR "label_path:max_decimals"
KEY TO
STR "unconfirmed_verify_transaction.max_decimals"
EOB 16
EOB 12
EOB 8
EOB 4
EOL 0
